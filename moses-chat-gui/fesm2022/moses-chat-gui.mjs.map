{"version":3,"file":"moses-chat-gui.mjs","sources":["../../../projects/moses-chat-gui/src/lib/moses-chat-gui.service.ts","../../../projects/moses-chat-gui/src/components/message/message.component.ts","../../../projects/moses-chat-gui/src/components/message/message.component.html","../../../projects/moses-chat-gui/src/components/chat/chat.component.ts","../../../projects/moses-chat-gui/src/components/chat/chat.component.html","../../../projects/moses-chat-gui/src/lib/moses-chat-gui.component.ts","../../../projects/moses-chat-gui/src/lib/moses-chat-gui.component.html","../../../projects/moses-chat-gui/src/public-api.ts","../../../projects/moses-chat-gui/src/moses-chat-gui.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { IResponse } from '../types/response.interface';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class MosesChatGuiService {\r\n  apiKey = '6605285cbe4f50.38875642';\r\n  url = 'https://moses-ai.com/moses_AI/documentationAI/mosesAgentConnector.php';\r\n  state = '';\r\n  choice = -1;\r\n  choiceOptions = [];\r\n  chatHistory = '';\r\n  continueAfterResponse = false;\r\n\r\n  constructor() {}\r\n\r\n  async sendMsg(question: string): Promise<string> {\r\n    return new Promise((resolve, reject) => {\r\n      const request = new XMLHttpRequest();\r\n      request.open('POST', this.url, true); // async = true --> asynchronous request\r\n      request.setRequestHeader(\r\n        'Content-Type',\r\n        'application/x-www-form-urlencoded'\r\n      );\r\n      request.onload = () => {\r\n        // Connection/server error\r\n        if (request.status < 200 || request.status >= 400)\r\n          return reject(request.status);\r\n\r\n        // reset state and choice\r\n        this.state = '';\r\n        this.choice = -1;\r\n\r\n        // parse json string to object\r\n        const res: IResponse = JSON.parse(request.response);\r\n        console.log(res);\r\n\r\n        if (res.error === true) return reject(res.error_msg);\r\n\r\n        if (res.error_msg === 'chat') {\r\n          this.chatHistory = res.answer;\r\n          this.state = res.state;\r\n          this.continueAfterResponse = res.continue === true;\r\n          const answer = this.chatHistory.split('#!').at(-1);\r\n          if (answer) resolve(answer);\r\n          else reject('No answer');\r\n        }\r\n      };\r\n\r\n      let body = `solved=-1&question=${question}&level=2&api_key=${this.apiKey}&state=${this.state}`;\r\n\r\n      if (this.continueAfterResponse === true) {\r\n        // continue after response\r\n        this.chatHistory = ''; // reset chat history (might not be wanted)\r\n        this.continueAfterResponse = false;\r\n\r\n        // send request, indicate response_continuation by choice=12\r\n        request.send(body + `&choice=12`);\r\n      } else {\r\n        body += `&choice=${this.choice}`;\r\n        if (this.chatHistory.length > 0)\r\n          body += `&chat_history=${this.chatHistory}`;\r\n        request.send(body);\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { Component, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'lib-moses-message',\r\n  standalone: true,\r\n  imports: [CommonModule],\r\n  templateUrl: './message.component.html',\r\n  styleUrl: './message.component.scss',\r\n})\r\nexport class MessageComponent {\r\n  @Input() isLoadIndicator = false;\r\n  @Input() message: string = '';\r\n  @Input() isAnswer = true;\r\n}\r\n","<div class=\"msg-container\" [ngClass]=\"{'answer': isAnswer}\">\r\n  <img *ngIf=\"isAnswer\" src=\"/assets/molog512.png\" alt=\"Moses Logo\">\r\n  <div *ngIf=\"!isLoadIndicator\" class=\"msg\">{{ message }}</div>\r\n  <div *ngIf=\"isLoadIndicator\" class=\"msg answer load-indicator\">\r\n    <svg version=\"1.1\" id=\"L7\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\"\r\n      y=\"0px\" viewBox=\"0 0 100 100\" enable-background=\"new 0 0 100 100\" xml:space=\"preserve\">\r\n      <path fill=\"#fff\" d=\"M31.6,3.5C5.9,13.6-6.6,42.7,3.5,68.4c10.1,25.7,39.2,38.3,64.9,28.1l-3.1-7.9c-21.3,8.4-45.4-2-53.8-23.3\r\n  c-8.4-21.3,2-45.4,23.3-53.8L31.6,3.5z\">\r\n        <animateTransform attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" dur=\"2s\" from=\"0 50 50\"\r\n          to=\"360 50 50\" repeatCount=\"indefinite\" />\r\n      </path>\r\n      <path fill=\"#fff\" d=\"M42.3,39.6c5.7-4.3,13.9-3.1,18.1,2.7c4.3,5.7,3.1,13.9-2.7,18.1l4.1,5.5c8.8-6.5,10.6-19,4.1-27.7\r\n  c-6.5-8.8-19-10.6-27.7-4.1L42.3,39.6z\">\r\n        <animateTransform attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" dur=\"1s\" from=\"0 50 50\"\r\n          to=\"-360 50 50\" repeatCount=\"indefinite\" />\r\n      </path>\r\n      <path fill=\"#fff\" d=\"M82,35.7C74.1,18,53.4,10.1,35.7,18S10.1,46.6,18,64.3l7.6-3.4c-6-13.5,0-29.3,13.5-35.3s29.3,0,35.3,13.5\r\n  L82,35.7z\">\r\n        <animateTransform attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" dur=\"2s\" from=\"0 50 50\"\r\n          to=\"360 50 50\" repeatCount=\"indefinite\" />\r\n      </path>\r\n    </svg>\r\n  </div>\r\n</div>","import { MosesChatGuiService } from './../../lib/moses-chat-gui.service';\r\nimport { CommonModule } from '@angular/common';\r\nimport {\r\n  Component,\r\n  ComponentRef,\r\n  Input,\r\n  ViewChild,\r\n  ViewContainerRef,\r\n} from '@angular/core';\r\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\r\nimport { faPaperPlane } from '@fortawesome/free-regular-svg-icons';\r\nimport { faArrowRight } from '@fortawesome/free-solid-svg-icons';\r\nimport { MessageComponent } from '../message/message.component';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'lib-moses-chat',\r\n  standalone: true,\r\n  imports: [CommonModule, FormsModule, FontAwesomeModule, MessageComponent],\r\n  templateUrl: './chat.component.html',\r\n  styleUrl: './chat.component.scss',\r\n})\r\nexport class ChatComponent {\r\n  @Input() customer: string = 'Customer';\r\n  startMessage: string =\r\n    'Zu welcher Metrik, welches Connectors haben Sie eine Frage?';\r\n\r\n  @ViewChild('chatMessages', { read: ViewContainerRef })\r\n  chatEl!: ViewContainerRef;\r\n  lastMsg?: ComponentRef<MessageComponent>;\r\n\r\n  userInput: string = '';\r\n\r\n  hasLoggedIn = this.service.chatHistory.length > 0;\r\n\r\n  // Icons\r\n  paperPlane = faPaperPlane;\r\n  arrowRight = faArrowRight;\r\n\r\n  constructor(private service: MosesChatGuiService) {}\r\n\r\n  onEnter(event: Event) {\r\n    event.preventDefault();\r\n    this.sendMsg();\r\n  }\r\n\r\n  sendMsg() {\r\n    if (this.userInput.trim().length === 0) return;\r\n    this.showMsg(this.userInput, false);\r\n    this.showLoadIndicator();\r\n    this.service\r\n      .sendMsg(this.userInput)\r\n      .then((answer) => this.setAnswerToLastMsgEl(answer))\r\n      .catch((err) => this.handleError(err));\r\n    this.userInput = '';\r\n  }\r\n\r\n  private handleError(err: string) {\r\n    console.error(err);\r\n    this.lastMsg?.destroy();\r\n  }\r\n\r\n  private showLoadIndicator() {\r\n    this.lastMsg = this.chatEl.createComponent(MessageComponent);\r\n    this.lastMsg.instance.isAnswer = true;\r\n    this.lastMsg.instance.isLoadIndicator = true;\r\n    this.chatEl.element.nativeElement.appendChild(\r\n      this.lastMsg.location.nativeElement\r\n    );\r\n    this.scrollToBottom();\r\n  }\r\n\r\n  private setAnswerToLastMsgEl(answer: string) {\r\n    const msg = this.lastMsg?.instance;\r\n    if (msg != null) {\r\n      msg.isLoadIndicator = false;\r\n      msg.message = answer;\r\n    }\r\n    this.scrollToBottom();\r\n  }\r\n\r\n  showMsg(msg: string, isAnswer: boolean) {\r\n    this.lastMsg = this.chatEl.createComponent(MessageComponent);\r\n    this.lastMsg.instance.isAnswer = isAnswer;\r\n    this.lastMsg.instance.message = msg;\r\n    this.chatEl.element.nativeElement.appendChild(\r\n      this.lastMsg.location.nativeElement\r\n    );\r\n    this.scrollToBottom();\r\n  }\r\n\r\n  private scrollToBottom() {\r\n    setTimeout(() => {\r\n      const chatEl: HTMLElement = this.chatEl.element.nativeElement;\r\n      chatEl.scrollTop = chatEl.scrollHeight;\r\n    });\r\n  }\r\n}\r\n","<div class=\"chat\">\r\n  <header>\r\n    <img src=\"/assets/molog512.png\" alt=\"Moses Logo\">\r\n    <h3>Personal Assistant</h3>\r\n    <span>{{ customer }}</span>\r\n  </header>\r\n\r\n  <main #chatMessages>\r\n    <div *ngIf=\"!hasLoggedIn\" class=\"login-container\">\r\n      <button (click)=\"hasLoggedIn = true\" class=\"fab-btn\">\r\n        <fa-icon [icon]=\"arrowRight\"></fa-icon>\r\n      </button>\r\n      <p>\r\n        <b>Hilfe ben√∂tigt? Chat starten!</b>\r\n        <br>\r\n        Ihre Angaben werden ausschliesslich zur Bearbeitung Ihres Anliegens genutzt. Detaillierte Informationen\r\n        erhalten Sie in unseren\r\n        <br>\r\n      </p>\r\n      <a href=\"https://moses-ai.com/privacy_policy.html\" target=\"_blank\">Datenschutzhinweisen</a>\r\n    </div>\r\n    <lib-moses-message *ngIf=\"hasLoggedIn\" [message]=\"startMessage\" [isAnswer]=\"true\"></lib-moses-message>\r\n  </main>\r\n\r\n  <footer>\r\n    <ng-container *ngIf=\"hasLoggedIn\">\r\n      <textarea (keydown.enter)=\"onEnter($event)\" [(ngModel)]=\"userInput\" placeholder=\"Schreibe hier..\"></textarea>\r\n      <button (click)=\"sendMsg()\">\r\n        <fa-icon [icon]=\"paperPlane\"></fa-icon>\r\n      </button>\r\n    </ng-container>\r\n  </footer>\r\n</div>","import { CommonModule } from '@angular/common';\r\nimport { Component } from '@angular/core';\r\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\r\nimport { faCommentAlt } from '@fortawesome/free-regular-svg-icons';\r\nimport { ChatComponent } from '../components/chat/chat.component';\r\n\r\n@Component({\r\n  selector: 'lib-moses-chat-gui',\r\n  standalone: true,\r\n  imports: [CommonModule, FontAwesomeModule, ChatComponent],\r\n  templateUrl: './moses-chat-gui.component.html',\r\n  styleUrl: './moses-chat-gui.component.scss',\r\n})\r\nexport class MosesChatGuiComponent {\r\n  isVisibleChat = true;\r\n\r\n  // Icons\r\n  commentAlt = faCommentAlt;\r\n}\r\n","<button (click)=\"isVisibleChat = !isVisibleChat\" id=\"prime\" class=\"fab-btn\" aria-label=\"Toggle Moses chat window\">\r\n  <fa-icon [icon]=\"commentAlt\"></fa-icon>\r\n</button>\r\n<lib-moses-chat *ngIf=\"isVisibleChat\"></lib-moses-chat>","/*\r\n * Public API Surface of moses-chat-gui\r\n */\r\n\r\nexport * from './lib/moses-chat-gui.service';\r\nexport * from './lib/moses-chat-gui.component';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i1.MosesChatGuiService","i2"],"mappings":"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"}